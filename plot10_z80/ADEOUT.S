	GLOBAL ADEOUT
SYSTEM:	EQU 1403H
CONOUT:	EQU 2
WRITEB:	EQU 0EH
;_______________________________________________________
ADEOUT:
	;S[NDER UT ADE ARRAY
	; HL PEKAR P] ANTAL TECKEN
	; DE PEKAR P] ADE ARRAY
	;
	PUSH IY
	XOR A			;H[MTA PARAMETRAR
	LD C,A
	LD B,(HL)		;ANTAL TECKEN
	CP B
	JR Z,ADORET		;ANTAL TECKEN = 0 ?
	LD H,D			;ADE STARTADRESS
	LD L,E
	LD DE,UTBUFF		;STR[NG ADRESS
	PUSH DE
	PUSH BC
	CALL ADESTR		;G\R OM TILL STR[NG
	POP BC
	POP DE
	LD IY,IYOBUF		;LADDA VEKTOR
	LD (IY),CONOUT		;ENHET
	LD (IY+1),WRITEB	;WRITE BINARY
	LD (IY+2),E		;STARTADRESS STR[NG
	LD (IY+3),D
	LD (IY+4),B		;L[NGD STR[NG
	LD (IY+5),C
	XOR A			;NOLLST[LL RESTEN
	LD (IY+6),A
	LD (IY+7),A
	LD (IY+8),A
	LD (IY+9),A
	CALL SYSTEM		;S[ND UT DATA
ADORET:
	POP IY
	RET
;_________________________________________________
ADESTR:
	;\VERS[TT ADE ARRAY TILL STR[NG
	;  HL PEKAR P] ADE ARRAY
	;  DE PEKAR P] STR[NG
	;  B ANGER ANTAL TECKEN > 0 , < 256
	;
	XOR A			;L[NGDEN = 0 ?
	CP B
	RET Z
ADELOP:	LD A,(HL)		;\VERF\R TECKEN
	AND 7FH			;PARITET BORT
	LD (DE),A
	INC DE
	INC HL
	INC HL
	DJNZ ADELOP		;\VERF\R TILLS
				;TECKEN SLUT
	RET
IYOBUF:	DEFS 13
UTBUFF:	DEFS 80
	END
